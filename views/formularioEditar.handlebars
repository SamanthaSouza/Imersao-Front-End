<main>
<div class="container">
    <div class="row">
        <div class="col-6 offset-3">
            {{!-- <h3 class="mb-3">Editar Produto</h3> --}}
            <form action="/editar" method="post" enctype="multipart/form-data">
                
                {{!-- Mostrar imagem atual somente se existir --}}
                {{#if produto.imagem}}
                    {{!--<p>Imagem atual:</p>--}}
                    <img src="/imagens/{{produto.imagem}}" 
                         alt="Imagem do produto" 
                         class="img-fluid mb-3" 
                         style="max-width: 150px; border: 1px solid #ccc; border-radius: 8px;" 
                         onerror="this.onerror=null; this.src='/imagens/imagem-indisponivel.png';">
                {{/if}}

                {{!-- Campos ocultos --}}
                <input type="hidden" name="nomeImagem" value="{{produto.imagem}}">
                <input type="hidden" name="codigo" value="{{produto.codigo}}">

                {{!-- Nome --}}
                <input type="text" name="nome" value="{{produto.nome}}" class="form-control mb-2" placeholder="Nome do produto" required>

                {{!-- Valor --}}
                <input type="number" name="valor" value="{{produto.valor}}" class="form-control mb-2" placeholder="Valor do produto" required>

                {{!-- Nova imagem --}}
                <input type="file" name="imagem" class="form-control mb-3">

                {{!-- Botões --}}
                <input type="submit" class="btn btn-success" value="Salvar alterações">
                <a href="/" class="btn btn-secondary">Cancelar</a>
            </form>
        </div>
    </div>
</div>
</main>